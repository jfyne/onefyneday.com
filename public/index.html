<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Ali & Josh 2020</title>

        <link href="https://fonts.googleapis.com/css?family=Comfortaa|Playfair+Display&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="/style.css?v=1" type="text/css">

        <!-- update the version number as needed -->
        <script defer src="/__/firebase/6.2.2/firebase-app.js"></script>
        <!-- include only the Firebase features as you need -->
        <script defer src="/__/firebase/6.2.2/firebase-firestore.js"></script>
        <!-- initialize the SDK after all desired features are loaded -->
        <script defer src="/__/firebase/init.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    </head>
    <body>
        <header>
            <div class="splash">
                <h1>Ali & Josh</h1>
            </div>
            <h2>Iceland · 18th April 2020</h2>
        </header>

        <div class="container">

            <section id="itinery">
                <div class="timeline">
                    <h2>Friday April 17 2020</h2>
                    <ul>
                        <li>
                            <h3>Reykjavík</h3>
                            <p>Catch the bus to the hotel, tour included on the way.</p>
                            <time>????am</time>
                        </li>
                        <li>
                            <h3>Arnarstapi</h3>
                            <p>Arrive at the Hotel</p>
                            <time>????pm</time>
                        </li>
                        <li>
                            <h3>Rehearsal dinner</h3>
                            <p>Come hang out and have a great time</p>
                            <time>????pm</time>
                        </li>
                    </ul>

                    <h2>Saturday April 18 2020</h2>
                    <ul>
                        <li>
                            <h3>Hotel</h3>
                            <p>Catch a ride to the ceremony</p>
                            <time>????am</time>
                        </li>
                        <li>
                            <h3>Ceremony</h3>
                            <p>Getting hitched Iceland style</p>
                            <time>????am</time>
                        </li>
                    </ul>

                    <h2>Sunday April 19 2020</h2>
                    <ul>
                        <li>
                            <h3>Hotel</h3>
                            <p>Catch a ride back to Reykjavík</p>
                            <time>????am</time>
                        </li>
                    </ul>
                </div>
            </section>

            <section id="rsvp">
                <h2 v-if="!responded">RSVP</h2>
                <form v-if="!responded" v-on:submit.prevent="onSubmit">
                    <fieldset>
                        <legend>Name(s)</legend>
                        <input v-model="names" type="text" name="names" required>
                    </fieldset>
                    <fieldset>
                        <legend>Can you come?</legend>
                        <label>
                            <input v-model="response" type="radio" name="response" value="yes" required>
                            Yes
                        </label>
                        <label>
                            <input v-model="response" type="radio" name="response" value="no" required>
                            No
                        </label>
                    </fieldset>
                    <fieldset>
                        <legend>Email</legend>
                        <input v-model="email" type="email" name="email" required>
                    </fieldset>
                    <fieldset>
                        <legend>Phone</legend>
                        <input v-model="phone" type="tel" name="phone" required>
                    </fieldset>
                    <fieldset>
                        <legend>Number coming</legend>
                        <input v-model="number" type="number" name="number" required>
                    </fieldset>
                    <fieldset>
                        <legend>Dietary restrictions</legend>
                        <input v-model="dietary" type="text" name="dietary" required>
                    </fieldset>
                    <fieldset>
                        <legend>Leave us a message</legend>
                        <textarea v-model="message" name="message"></textarea>
                    </fieldset>
                    <button type="submit">RSVP</button>
                </form>
                <loading v-if="loading"></loading>
                <div v-if="success">
                    <h2>Thanks for responding!</h2>
                </div>
                <div v-if="error">
                    <h2>Something went wrong... Can you try again?</h2>
                </div>
            </section>

            <footer>
                <p>
                Contact <a href="mailto:alisonmarypeters+wedding@gmail.com">Ali</a> or <a href="mailto:josh.fyne+wedding@gmail.com">Josh</a> for questions
                </p>
            </footer>
        </div>

        <script src="/scripts/rsvp.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                try {
                    let app = firebase.app();
                    let features = ['firestore'].filter(feature => typeof app[feature] === 'function');
                    firebase.firestore().enablePersistence({
                        synchronizeTabs: true
                    }).then(() => console.log('Initialised'));
                } catch (e) {
                    console.error(e);
                }
            });
        </script>
    </body>
</html>
